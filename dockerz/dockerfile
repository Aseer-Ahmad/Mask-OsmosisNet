# Step 1: Use an existing PyTorch image as the base
FROM pytorch/pytorch:2.4.1-cuda12.1-cudnn9-runtime

# Step 2: Set the working directory inside the container
WORKDIR /app

# Step 3: Copy the requirements.txt file into the container
COPY requirements.txt /app/

# Step 4: Install Python libraries using pip from the requirements.txt file
RUN pip install --no-cache-dir -r requirements.txt

# Step 5: Install any other system-level packages with apt-get (optional)
RUN apt-get update && apt-get install -y \
    libgl1-mesa-glx \
    libglib2.0-0

# Step 6: Set up the default command for the container
CMD ["/bin/bash"]

